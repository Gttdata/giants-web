<div>
    <div class="header">
        <button type="button" nz-button (click)="close(myForm)" class="ant-btn">
            <i nz-icon nzType="close" nzTheme="outline"></i>
        </button>
    </div>

    <form nz-form #myForm="ngForm">
        <div nz-row class="my-box" style="margin-top: -10px;">
            <div nz-col nzXs="24" nzSm="24" nzMd="7" nzLg="7" nzXl="7" *ngIf="(federationID > 0) || (unitID > 0)">
                <nz-form-item>
                    <nz-form-label nzNoColon>Unit(s)</nz-form-label>

                    <nz-form-control>
                        <nz-select name="units" nzShowSearch nzAllowClear [nzMaxTagCount]="3" nzMode="multiple"
                            style="width: 100%" nzPlaceHolder="Select Unit(s)" [nzLoading]="unitLoading"
                            [(ngModel)]="UNIT_ID" (ngModelChange)="getGroups($event)">

                            <nz-option *ngFor="let unit of units;" [nzValue]="unit.ID" [nzLabel]="unit.NAME">
                            </nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzXs="24" nzSm="24" nzMd="7" nzLg="7" nzXl="7">
                <nz-form-item>
                    <nz-form-label nzNoColon>Group(s)</nz-form-label>

                    <nz-form-control>
                        <nz-select name="groups" nzShowSearch nzAllowClear [nzMaxTagCount]="3" nzMode="multiple"
                            style="width: 100%" nzPlaceHolder="Select Group(s)" [nzLoading]="groupLoading"
                            [(ngModel)]="GROUP_ID">

                            <nz-option *ngFor="let group of groups;" [nzValue]="group.ID" [nzLabel]="group.NAME">
                            </nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzXs="24" nzSm="24" nzMd="7" nzLg="7" nzXl="7">
                <nz-form-item>
                    <nz-form-label nzNoColon>Post(s)</nz-form-label>

                    <nz-form-control>
                        <nz-select name="posts" nzShowSearch nzAllowClear [nzMaxTagCount]="3" nzMode="multiple"
                            style="width: 100%" nzPlaceHolder="Select Post(s)" [nzLoading]="roleLoading"
                            [(ngModel)]="ROLE_ID">

                            <nz-option *ngFor="let role of post;" [nzValue]="role.NAME" [nzLabel]="role.NAME">
                            </nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzXs="24" nzSm="24" nzMd="3" nzLg="3" nzXl="3">
                <nz-form-item>
                    <nz-form-label nzNoColon></nz-form-label>

                    <nz-form-control>
                        <button nz-button type="button" class="ant-btn" [nzLoading]="isSpinning"
                            (click)="GetMembersSearch()"
                            style="border-radius: 5px; color: #47a7ff; border: solid 1px #47a7ff; margin: 5px;">
                            <span>Apply</span>
                        </button>
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>

        <div class="my-box">
            <div nz-row>
                <div nz-col nzXs="24" nzSm="24" nzMd="8" nzLg="8" nzXl="8">
                    <nz-form-item>
                        <nz-form-label nzNoColon>Member's Name</nz-form-label>

                        <nz-form-control>
                            <input nz-input name="searchName" autocomplete="off" placeHolder="Type here to search"
                                type="text" oninput="this.value = this.value.toLowerCase()" [(ngModel)]="SEARCH_NAME" />
                        </nz-form-control>
                    </nz-form-item>
                </div>

                <div nz-col nzXs="24" nzSm="24" nzMd="8" nzLg="8" nzXl="8">
                    <nz-form-item>
                        <nz-form-label nzNoColon></nz-form-label>

                        <nz-form-control>
                            <button nz-button nzType="default" (click)="resetSearchBox()"
                                style="border-radius: 5px; color: #47a7ff; border: solid 1px #47a7ff; margin: 5px;">
                                Reset
                            </button>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>

            <div nz-row [nzGutter]="10">
                <div nz-col nzXs="24" nzSm="24" nzMd="12" nzLg="12" nzXl="12">
                    <nz-table class="my-scroll no-wrap1" nzBordered #dataTable1 [nzFrontPagination]="false"
                        [nzData]="memberData" [nzLoading]="isSpinning" [nzScroll]="{y: '370px'}">
                        <thead>
                            <tr>
                                <th style="width: 80px;">
                                    <button nz-button nzTooltipTitle="Add All" nzTooltipPlacement="top" nz-tooltip
                                        name="copyAllBtn" nzType="default" nzShape="circle" (click)="inviteAllMember()"
                                        style="color: #47a7ff; border: solid 1px #47a7ff; margin: 5px;">

                                        <i nz-icon nzType="plus" nzTheme="outline"></i>
                                    </button>
                                </th>

                                <th>
                                    <b>Member Name</b>&nbsp;

                                    <nz-tag [nzColor]="'magenta'">
                                        Count : {{memberData.length}}
                                    </nz-tag>
                                </th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr *ngFor="let data of dataTable1.data | searchPipe: SEARCH_NAME; let i = index;">
                                <td align="center" style="width: 80px;">
                                    <button nz-button name="copyBtn{{i}}" nzType="default" nzShape="circle"
                                        (click)="inviteMember(data)"
                                        style="color: #47a7ff; border: solid 1px #47a7ff; margin: 5px;">

                                        <i nz-icon nzType="plus" nzTheme="outline"></i>
                                    </button>
                                </td>

                                <td>
                                    <div nz-row>
                                        <div nz-col nzSpan="24">
                                            <div nz-row>
                                                <div nz-col nzSpan="24">
                                                    <span style="color: black; font-weight: bold;">
                                                        {{data.NAME}}
                                                    </span>

                                                    <span style="font-size: 10px; color: #ff8d73; font-weight: bold;">
                                                        ({{data.MEMBER_ROLE}})
                                                    </span>
                                                </div>
                                            </div>
                                        </div>

                                        <div nz-col nzSpan="24">
                                            <div style="margin-left: 25px; padding: 3px; font-size: 10px;">
                                                <div>
                                                    <span nz-icon nzType="mobile" nzTheme="twotone"></span>
                                                    {{data.MOBILE_NUMBER}}
                                                </div>

                                                <div>
                                                    <span nz-icon nzType="global" nzTheme="outline"
                                                        style="color: #ff8d73;">
                                                    </span>

                                                    {{data.FEDERATION_NAME}}
                                                </div>

                                                <div>
                                                    <span nz-icon nzType="deployment-unit" nzTheme="outline"
                                                        style="color: #ff8d73;">
                                                    </span>

                                                    {{data.UNIT_NAME}}
                                                </div>

                                                <div>
                                                    <span nz-icon nzType="team" nzTheme="outline"
                                                        style="color: #ff8d73;">
                                                    </span>

                                                    {{data.GROUP_NAME}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </nz-table>
                </div>

                <div nz-col nzXs="24" nzSm="24" nzMd="12" nzLg="12" nzXl="12">
                    <nz-table class="my-scroll no-wrap1" nzBordered #dataTable2 [nzFrontPagination]="false"
                        [nzData]="CHECK_PA" [nzLoading]="isSpinning" [nzScroll]="{y: '370px'}">
                        <thead>
                            <tr>
                                <th style="width: 80px;">
                                    <button nz-button nzTooltipTitle="Remove All" nzTooltipPlacement="top" nz-tooltip
                                        name="removeAllBtn" nzType="default" nzShape="circle"
                                        (click)="removeAllMember()"
                                        style="color: #47a7ff; border: solid 1px #47a7ff; margin: 5px;">

                                        <i nz-icon nzType="close" nzTheme="outline"></i>
                                    </button>
                                </th>

                                <th>
                                    <b>Member Name</b>&nbsp;

                                    <nz-tag [nzColor]="'magenta'">
                                        Count : {{CHECK_PA.length}}
                                    </nz-tag>
                                </th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr *ngFor="let data of dataTable2.data; let j = index;">
                                <td align="center" style="width: 80px;">
                                    <button nz-button name="removeBtn{{j}}" nzType="default" nzShape="circle"
                                        (click)="removeMember(j)"
                                        style="color: #47a7ff; border: solid 1px #47a7ff; margin: 5px;">

                                        <i nz-icon nzType="close" nzTheme="outline"></i>
                                    </button>
                                </td>

                                <td>
                                    <div nz-row>
                                        <div nz-col nzSpan="24">
                                            <span style="color: black; font-weight: bold;">
                                                {{data.NAME}}
                                            </span>

                                            <span style="font-size: 10px; color: #ff8d73; font-weight: bold;">
                                                ({{data.MEMBER_ROLE}})
                                            </span>
                                        </div>

                                        <div nz-col nzSpan="24">
                                            <div style="margin-left: 25px; padding: 3px; font-size: 10px;">
                                                <div>
                                                    <span nz-icon nzType="mobile" nzTheme="twotone"></span>
                                                    {{data.MOBILE_NUMBER}}
                                                </div>

                                                <div>
                                                    <span nz-icon nzType="global" nzTheme="outline"
                                                        style="color: #ff8d73;">
                                                    </span>

                                                    {{data.FEDERATION_NAME}}
                                                </div>

                                                <div>
                                                    <span nz-icon nzType="deployment-unit" nzTheme="outline"
                                                        style="color: #ff8d73;">
                                                    </span>

                                                    {{data.UNIT_NAME}}
                                                </div>

                                                <div>
                                                    <span nz-icon nzType="team" nzTheme="outline"
                                                        style="color: #ff8d73;">
                                                    </span>

                                                    {{data.GROUP_NAME}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </nz-table>
                </div>
            </div>
        </div>
    </form>

    <div class="footer">
        <button type="button" nz-button (click)="close(myForm)" class="ant-btn" style="margin-right: 8px;">
            <span>Cancel</span>
        </button>

        <button type="button" class="ant-btn ant-btn-primary" nz-button [nzLoading]="isSpinning" (click)="save(myForm)">
            <span>Save</span>
        </button>
    </div>
</div>