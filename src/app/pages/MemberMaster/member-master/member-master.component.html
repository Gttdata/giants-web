<nz-spin [nzSpinning]='loadingRecords'>
    <div
        style="border-radius: 8px; background-color: white; padding: 10px; margin: 10px; position: sticky; top: 0px; z-index: 10;">
        <div nz-row>
            <div nz-col nzXs="0" nzSm="0" nzMd="8" nzLg="8" nzXl="8">
                <div style="text-align: left; padding: 5px;">
                    <span class="formname">
                        <i nz-icon nzType="left-circle" nzTheme="outline" (click)="back()"></i>
                        {{formTitle}}
                    </span>
                </div>
            </div>

            <div nz-col nzXs="0" nzSm="0" nzMd="8" nzLg="8" nzXl="8">
                <div style="text-align: center;"
                    *ngIf="(federationID > 0) || (unitID > 0) || (groupID > 0) || ((federationID == 0) && (unitID == 0) && (groupID == 0) && (roleID == 59)) || (roleID == 1)">
                    <button nz-button nzType="default"
                        style="border-radius: 5px; color: #47a7ff; border: solid 1px #47a7ff; margin-right: 2px;"
                        (click)="add()">
                        <i nz-icon nzType="plus"></i>
                        Create
                    </button>

                    <button nz-button *ngIf="groupID > 0" nzType="default"
                        style="border-radius: 5px; color: #47a7ff; border: solid 1px #47a7ff; margin-right: 2px;"
                        (click)="downloadCSVFile()" nzTooltipTitle="Download CSV File" nzTooltipPlacement="top"
                        nz-tooltip>
                        <span nz-icon nzType="download" nzTheme="outline"></span>
                    </button>

                    <button nz-button *ngIf="groupID > 0" nzType="default"
                        style="border-radius: 5px; color: #47a7ff; border: solid 1px #47a7ff;"
                        (click)="openImportDrawer()" nzTooltipTitle="Upload CSV File" nzTooltipPlacement="top"
                        nz-tooltip>
                        <span nz-icon nzType="upload" nzTheme="outline"></span>
                    </button>
                </div>
            </div>

            <div nz-col nzXs="0" nzSm="0" nzMd="8" nzLg="8" nzXl="8" style="text-align: right;">
                <nz-input-group [nzPrefix]="prefixIcon" [nzSuffix]="suffixIcon">
                    <input nz-input type="text" name="search" autocomplete="off" placeholder="Search Here.."
                        (keydown.enter)="addSearchTextForSearching(searchText)" [(ngModel)]="searchText" />
                </nz-input-group>

                <ng-template #prefixIcon>
                    <span nz-icon nzType="search"></span>
                </ng-template>

                <ng-template #suffixIcon>
                    <i nz-icon nzType="filter" nzTheme="outline" (click)="openAdvanceFilter()"
                        nzTooltipTitle="Advance Filter" nzTooltipPlacement="top" nz-tooltip>
                    </i>
                </ng-template>
            </div>

            <div nz-col nzXs="24" nzSm="24" nzMd="0" nzLg="0" nzXl="0">
                <div style="text-align: center; padding: 5px;">
                    <span class="formname">
                        <i nz-icon nzType="left-circle" nzTheme="outline" (click)="back()"></i>
                        {{formTitle}}
                    </span>
                </div>
            </div>

            <div nz-col nzXs="8" nzSm="8" nzMd="0" nzLg="0" nzXl="0">
                <div style="text-align: left;"
                    *ngIf="(federationID > 0) || (unitID > 0) || (groupID > 0) || ((federationID == 0) && (unitID == 0) && (groupID == 0) && (roleID == 59)) || (roleID == 1)">
                    <button nz-button nzType="default"
                        style="border-radius: 5px; color: #47a7ff; border: solid 1px #47a7ff;" (click)="add()">
                        <i nz-icon nzType="plus"></i>
                        Create
                    </button>
                </div>
            </div>

            <div nz-col nzXs="16" nzSm="16" nzMd="0" nzLg="0" nzXl="0" style="text-align: right;">
                <nz-input-group [nzPrefix]="prefixIcon" [nzSuffix]="suffixIcon">
                    <input nz-input type="text" name="search" autocomplete="off" placeholder="Search Here.."
                        (keydown.enter)="addSearchTextForSearching(searchText)" [(ngModel)]="searchText" />
                </nz-input-group>

                <ng-template #prefixIcon>
                    <span nz-icon nzType="search"></span>
                </ng-template>

                <ng-template #suffixIcon>
                    <i nz-icon nzType="filter" nzTheme="outline" (click)="openAdvanceFilter()"
                        nzTooltipTitle="Advance Filter" nzTooltipPlacement="top" nz-tooltip>
                    </i>
                </ng-template>
            </div>
        </div>
    </div>

    <div *ngIf="advanceFilterModalVisible"
        style="border-radius: 8px; background-color: white; padding: 10px; margin: 10px; position: sticky; top: 0px; z-index: 10;">
        <div style="max-height: 250px; overflow: auto;">
            <div nz-row>
                <div nz-col nzXs="12" nzSm="12" nzMd="8" nzLg="8" nzXl="8">
                    <nz-form-item>
                        <nz-form-label nzNoColon>Joining From Date</nz-form-label>

                        <nz-form-control>
                            <nz-date-picker name="fromDate" nzFormat="dd/MM/yyyy"
                                (ngModelChange)="onFromDateChange($event)" [(ngModel)]="ADVANCE_FILTER_FROM_DATE">
                            </nz-date-picker>
                        </nz-form-control>
                    </nz-form-item>
                </div>

                <div nz-col nzXs="12" nzSm="12" nzMd="8" nzLg="8" nzXl="8">
                    <nz-form-item>
                        <nz-form-label nzNoColon>Joining To Date</nz-form-label>

                        <nz-form-control>
                            <nz-date-picker name="toDate" [nzDisabledDate]="disabledToDate" nzFormat="dd/MM/yyyy"
                                [(ngModel)]="ADVANCE_FILTER_TO_DATE">
                            </nz-date-picker>
                        </nz-form-control>
                    </nz-form-item>
                </div>

                <div nz-col nzXs="24" nzSm="24" nzMd="8" nzLg="8" nzXl="8">
                    <nz-form-item>
                        <nz-form-label nzNoColon>Status</nz-form-label>

                        <nz-form-control>
                            <div style="display: inline;">
                                <label nz-checkbox name="activeStatus" [(ngModel)]="ACTIVE_STATUS">Active</label>
                            </div>

                            <div style="display: inline;">
                                <label nz-checkbox name="droppedStatus" [(ngModel)]="DROPPED_STATUS">Dropped</label>
                            </div>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>

            <div nz-row>
                <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24">
                    <nz-form-item>
                        <nz-form-label nzNoColon>Federation(s)</nz-form-label>

                        <nz-form-control>
                            <nz-select name="federation" [nzMaxTagCount]="3" nzShowSearch nzMode="multiple" nzAllowClear
                                style="width: 100%" nzPlaceHolder="Select Federation(s)" [(ngModel)]="FEDERATION_ID">

                                <nz-option *ngFor="let federation of federations;" [nzValue]="federation.NAME"
                                    [nzLabel]="federation.NAME">
                                </nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>

            <div nz-row>
                <div nz-col nzXs="24" nzSm="24" nzMd="12" nzLg="12" nzXl="12">
                    <nz-form-item>
                        <nz-form-label nzNoColon>Unit(s)</nz-form-label>

                        <nz-form-control>
                            <nz-select name="unit" [nzMaxTagCount]="3" [nzSuffixIcon]="suffixIcon" nzShowSearch
                                nzServerSearch nzMode="multiple" nzAllowClear style="width: 100%"
                                nzPlaceHolder="Type here to search" [(ngModel)]="UNIT_ID"
                                (nzOnSearch)="getUnits($event)">

                                <nz-option nzCustomContent *ngFor="let unit of units;" [nzValue]="unit.NAME"
                                    [nzLabel]="unit.NAME">
                                    <div nz-row>
                                        <div nz-col nzSpan="24">
                                            {{unit.NAME}}
                                        </div>

                                        <div nz-col nzSpan="24">
                                            <div style="font-size: 10px; color: gray;">
                                                <i nz-icon nzType="global" nzTheme="outline" style="color: #ff8d73;">
                                                </i>

                                                {{unit.FEDERATION_NAME}}
                                            </div>
                                        </div>
                                    </div>
                                </nz-option>
                            </nz-select>

                            <ng-template #suffixIcon>
                                <div style="cursor: pointer;">
                                    <span nz-popover nzPopoverTitle="Info" [nzPopoverContent]="contentTemplate"
                                        nzPopoverPlacement="top"
                                        style="font-size: 17px; font-weight: bold; font-family: Georgia, 'Times New Roman', Times, serif;">
                                        i
                                    </span>
                                </div>

                                <ng-template #contentTemplate>
                                    <div>
                                        <p>Enter at least three characters to search</p>
                                    </div>
                                </ng-template>
                            </ng-template>
                        </nz-form-control>
                    </nz-form-item>
                </div>

                <div nz-col nzXs="24" nzSm="24" nzMd="12" nzLg="12" nzXl="12">
                    <nz-form-item>
                        <nz-form-label nzNoColon>Group(s)</nz-form-label>

                        <nz-form-control>
                            <nz-select name="group" [nzMaxTagCount]="3" [nzSuffixIcon]="suffixIcon" nzShowSearch
                                nzServerSearch nzMode="multiple" nzAllowClear style="width: 100%"
                                nzPlaceHolder="Type here to search" [(ngModel)]="GROUP_ID"
                                (nzOnSearch)="getGroups($event)">

                                <nz-option nzCustomContent *ngFor="let group of groups;" [nzValue]="group.NAME"
                                    [nzLabel]="group.NAME">
                                    <div nz-row>
                                        <div nz-col nzSpan="24">
                                            {{group.NAME}}
                                        </div>

                                        <div nz-col nzSpan="24">
                                            <div style="font-size: 10px; color: gray;">
                                                <i nz-icon nzType="global" nzTheme="outline" style="color: #ff8d73;">
                                                </i>

                                                {{group.FEDERATION_NAME}}
                                            </div>
                                        </div>

                                        <div nz-col nzSpan="24">
                                            <div style="font-size: 10px; color: gray;">
                                                <i nz-icon nzType="deployment-unit" nzTheme="outline"
                                                    style="color: #ff8d73;">
                                                </i>

                                                {{group.UNIT_NAME}}
                                            </div>
                                        </div>
                                    </div>
                                </nz-option>
                            </nz-select>

                            <ng-template #suffixIcon>
                                <div style="cursor: pointer;">
                                    <span nz-popover nzPopoverTitle="Info" [nzPopoverContent]="contentTemplate"
                                        nzPopoverPlacement="top"
                                        style="font-size: 17px; font-weight: bold; font-family: Georgia, 'Times New Roman', Times, serif;">
                                        i
                                    </span>
                                </div>

                                <ng-template #contentTemplate>
                                    <div>
                                        <p>Enter at least three characters to search</p>
                                    </div>
                                </ng-template>
                            </ng-template>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>

            <div nz-row>
                <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24" style="text-align: right;">
                    <button nz-button
                        style="border-radius: 5px; color: #47a7ff; border: solid 1px #47a7ff; margin-right: 3px;"
                        nzType="default" (click)="advanceFilterModalCancel()">
                        Cancel
                    </button>

                    <button nz-button
                        style="border-radius: 5px; color: #47a7ff; border: solid 1px #47a7ff; margin-right: 3px;"
                        nzType="default" (click)="clearAdvanceFilter()">
                        Clear
                    </button>

                    <button nz-button
                        style="border-radius: 5px; color: #47a7ff; border: solid 1px #47a7ff; margin-right: 3px;"
                        nzType="default" (click)="advanceFilterModalOk()">
                        Apply
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div *ngIf="(multipleSearchText.length > 0) || (advanceMultipleSearchText.length > 0) || (advanceMultipleFederationNames.length > 0) || (advanceMultipleUnitNames.length > 0) || (advanceMultipleGroupNames.length > 0)"
        style="height: 7vh; overflow-y: auto; border-radius: 8px; background-color: white; padding: 10px; margin: 10px; position: sticky; top: 0px; z-index: 10;">
        <div nz-row>
            <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24">
                <div style="padding: 3px 0px 3px 0px;">
                    <span *ngIf="multipleSearchText.length > 0">
                        <span *ngFor="let text of multipleSearchText; let i = index;">
                            <nz-tag [nzColor]="'magenta'" nzMode="closeable" (nzOnClose)="onClose(i)"
                                style="font-size: 10px; padding: 1px; margin: 1px;">
                                {{text}}
                            </nz-tag>
                        </span>
                    </span>

                    <span *ngIf="advanceMultipleSearchText.length > 0">
                        <span *ngFor="let text of advanceMultipleSearchText; let j = index;">
                            <nz-tag [nzColor]="'magenta'" nzMode="closeable" (nzOnClose)="onAdvanceFilterTagClose(j)"
                                style="font-size: 10px; padding: 1px; margin: 1px;">
                                {{text}}
                            </nz-tag>
                        </span>
                    </span>

                    <span *ngIf="advanceMultipleFederationNames.length > 0">
                        <span *ngFor="let text of advanceMultipleFederationNames; let k = index;">
                            <nz-tag [nzColor]="'magenta'" nzMode="closeable"
                                (nzOnClose)="onAdvanceFilterFederationNamesTagClose(k)"
                                style="font-size: 10px; padding: 1px; margin: 1px;">
                                {{text}}
                            </nz-tag>
                        </span>
                    </span>

                    <span *ngIf="advanceMultipleUnitNames.length > 0">
                        <span *ngFor="let text of advanceMultipleUnitNames; let l = index;">
                            <nz-tag [nzColor]="'magenta'" nzMode="closeable"
                                (nzOnClose)="onAdvanceFilterUnitNamesTagClose(l)"
                                style="font-size: 10px; padding: 1px; margin: 1px;">
                                {{text}}
                            </nz-tag>
                        </span>
                    </span>

                    <span *ngIf="advanceMultipleGroupNames.length > 0">
                        <span *ngFor="let text of advanceMultipleGroupNames; let m = index;">
                            <nz-tag [nzColor]="'magenta'" nzMode="closeable"
                                (nzOnClose)="onAdvanceFilterGroupNamesTagClose(m)"
                                style="font-size: 10px; padding: 1px; margin: 1px;">
                                {{text}}
                            </nz-tag>
                        </span>
                    </span>
                </div>
            </div>
        </div>
    </div>

    <div *ngIf="!advanceFilterModalVisible" id="activityItem" [ngStyle]="{ height: getHeigth() }"
        style="overflow-y: auto; padding: 10px;" (scroll)="onScroll($event)">
        <div id="top"></div>

        <div *ngIf="dataList.length > 0">
            <div *ngFor="let data of dataList; let i = index;"
                style="border-radius: 8px; background-image: linear-gradient(to bottom right, #ffffff, #ffffff); padding: 10px; margin-bottom: 10px;">
                <div>
                    <div nz-row>
                        <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24">
                            <div style="text-align: right;">
                                <span
                                    style="font-size: 10px; border-radius: 0px; padding: 5px; background-color: white; color: rgb(42, 42, 42)">
                                    <span style="border: 1px solid black; padding: 3px; background-color: #f0f2f5;"
                                        *ngIf="data.FEDERATION_SHORT_NAME != null">
                                        {{data.FEDERATION_SHORT_NAME}}
                                    </span>

                                    <span style="border: 1px solid black; padding: 3px; background-color: #f0f2f5;"
                                        *ngIf="data.UNIT_SHORT_NAME != null">
                                        {{data.UNIT_SHORT_NAME}}
                                    </span>

                                    <span style="border: 1px solid black; padding: 3px; background-color: #f0f2f5;"
                                        *ngIf="data.GROUP_SHORT_NAME != null">
                                        {{data.GROUP_SHORT_NAME}}
                                    </span>
                                </span>

                                <span style="border-radius: 50%; padding: 5px; background-color: white;"
                                    [nzTooltipTitle]="dropMemberTooltipTemplate" nzTooltipPlacement="top" nz-tooltip
                                    *ngIf="((federationID == data.FEDERATION_ID) || (unitID == data.UNIT_ID) || (groupID == data.GROUP_ID) || (roleID == 59) || (roleID == 60) || (roleID == 61)) && (data.ACTIVE_STATUS == 'A')">

                                    <i nz-icon nzType="close-circle" nzTheme="outline" nz-popconfirm
                                        [nzPopconfirmTitle]="dropMemberPopConfirmTemplate"
                                        (nzOnConfirm)="dropMember(data)" (nzOnCancel)="cancel()"
                                        nzPopconfirmPlacement="top" style="color: red;">
                                    </i>
                                </span>

                                <ng-template #dropMemberTooltipTemplate>
                                    Drop <b>{{data.NAME}}</b>
                                </ng-template>

                                <ng-template #dropMemberPopConfirmTemplate>
                                    Are you sure, drop <b>{{data.NAME}}</b>?
                                </ng-template>

                                <span style="border-radius: 50%; padding: 5px; background-color: white;"
                                    [nzTooltipTitle]="reviveMemberTooltipTemplate" nzTooltipPlacement="top" nz-tooltip
                                    *ngIf="((federationID == data.FEDERATION_ID) || (unitID == data.UNIT_ID) || (groupID == data.GROUP_ID) || (roleID == 59) || (roleID == 60) || (roleID == 61)) && (data.ACTIVE_STATUS == 'P') && (data.DROPPED_STATUS)">

                                    <i nz-icon nzType="check-circle" nzTheme="outline" nz-popconfirm
                                        [nzPopconfirmTitle]="reviveMemberPopConfirmTemplate"
                                        (nzOnConfirm)="revivedMember(data)" (nzOnCancel)="cancel()"
                                        nzPopconfirmPlacement="top" style="color: green;">
                                    </i>
                                </span>

                                <ng-template #reviveMemberTooltipTemplate>
                                    Revive <b>{{data.NAME}}</b>
                                </ng-template>

                                <ng-template #reviveMemberPopConfirmTemplate>
                                    Are you sure, revive <b>{{data.NAME}}</b>?
                                </ng-template>

                                <span style="border-radius: 50%; padding: 5px; background-color: white;"
                                    nzTooltipTitle="Edit Member Details" nzTooltipPlacement="top" nz-tooltip
                                    *ngIf="(federationID == data.FEDERATION_ID) || (unitID == data.UNIT_ID) || (groupID == data.GROUP_ID) || (roleID == 59) || (roleID == 60) || (roleID == 61)">

                                    <i nz-icon nzType="edit" nzTheme="twotone" (click)="edit(data)"></i>
                                </span>

                                <span style="border-radius: 50%; padding: 5px; background-color: white;"
                                    nzTooltipTitle="View Member Details" nzTooltipPlacement="top" nz-tooltip>

                                    <i nz-icon nzType="eye" nzTheme="twotone" (click)="edit(data,true)"></i>
                                </span>

                                <span
                                    style="border-radius: 50%; padding: 5px; background-color: white; cursor: pointer;"
                                    *ngIf="(federationID == data.FEDERATION_ID) || (unitID == data.UNIT_ID) || (groupID == data.GROUP_ID) || (roleID == 59) || (roleID == 60) || (roleID == 61)"
                                    (click)="openPaymentDetails(data)" nzTooltipTitle="Payment Details"
                                    nzTooltipPlacement="top" nz-tooltip>

                                    <span style="font-weight: bold; color: rgb(24, 144, 255);">â‚¹</span>
                                </span>
                            </div>
                        </div>

                        <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24">
                            <div nz-col nzXs="6" nzSm="6" nzMd="3" nzLg="3" nzXl="3">
                                <div style="text-align: left; margin-bottom: 10px; padding-top: 5px;">
                                    <span>
                                        <img [src]="getProfilePhoto(data.PROFILE_IMAGE)"
                                            style="margin-left: 15%; height: 50px; width: 50px; border-radius: 50%;">
                                    </span>
                                </div>
                            </div>

                            <div nz-col nzXs="18" nzSm="18" nzMd="21" nzLg="21" nzXl="21">
                                <div style="text-align: left; margin-bottom: 10px; padding: 5px;">
                                    <div nz-row>
                                        <div nz-col nzXs="0" nzSm="0" nzMd="24" nzLg="24" nzXl="24">
                                            <span style="font-weight: bold; color: #000102;">
                                                {{data.NAME}}
                                            </span>

                                            <span style="color: #FF7A7A; font-weight: bold;">
                                                ({{data.MUID_NUMBER}})
                                            </span>

                                            <span style="cursor: pointer;"
                                                *ngIf="(federationID == data.FEDERATION_ID) && (roleID == 4) && (userID != data.ID)"
                                                nz-popconfirm [nzPopconfirmTitle]="popConfirmTitle"
                                                (nzOnConfirm)="loginButton(data)" (nzOnCancel)="cancel()"
                                                nzPopconfirmPlacement="top">

                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="13"
                                                    viewBox="0 0 512 512">
                                                    <path
                                                        d="M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z" />
                                                </svg>
                                            </span>

                                            <ng-template #popConfirmTitle>
                                                <span>
                                                    Are you sure, want to login as <b>{{data.NAME}}</b>?
                                                </span>
                                            </ng-template>
                                        </div>

                                        <div nz-col nzXs="24" nzSm="24" nzMd="0" nzLg="0" nzXl="0">
                                            <span style="font-weight: bold; color: #000102;">
                                                {{data.NAME}}
                                            </span>

                                            <span style="cursor: pointer;"
                                                *ngIf="(federationID == data.FEDERATION_ID) && (roleID == 4) && (userID != data.ID)"
                                                nz-popconfirm [nzPopconfirmTitle]="popConfirmTitle"
                                                (nzOnConfirm)="loginButton(data)" (nzOnCancel)="cancel()"
                                                nzPopconfirmPlacement="top">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="13"
                                                    viewBox="0 0 512 512">
                                                    <path
                                                        d="M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z" />
                                                </svg>
                                            </span>

                                            <ng-template #popConfirmTitle>
                                                <span>
                                                    Are you sure, want to login as <b>{{data.NAME}}</b>?
                                                </span>
                                            </ng-template>
                                        </div>

                                        <div nz-col nzXs="24" nzSm="24" nzMd="0" nzLg="0" nzXl="0">
                                            <span style="color: #FF7A7A;">
                                                <b>({{data.MUID_NUMBER}})</b>
                                            </span>
                                        </div>

                                        <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24"
                                            style="font-size: 10px; color: gray;">
                                            <span nz-icon nzType="deployment-unit" nzTheme="outline"
                                                style="color: #FF7A7A;"
                                                *ngIf="(data.UNIT_NAME != '') && (data.UNIT_NAME != null)">
                                            </span>

                                            {{data.UNIT_NAME}}

                                            <span *ngIf="data.GROUP_NAME != null">
                                                /{{data.GROUP_NAME}}
                                            </span>
                                        </div>

                                        <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24"
                                            style="font-size: 10px; color: gray;">
                                            <span nz-icon nzType="home" nzTheme="outline" style="color:#FF7A7A;">
                                            </span>

                                            {{data.ADDRESS1}} {{data.ADDRESS2}}
                                        </div>

                                        <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24"
                                            style="font-size: 10px; color: gray;">
                                            <span nz-icon nzType="environment" nzTheme="outline" style="color:#FF7A7A;">
                                            </span>

                                            {{data.CITY}}

                                            <span *ngIf="(data.PINCODE != null) && (data.PINCODE != '')">
                                                -{{data.PINCODE}}
                                            </span>
                                        </div>

                                        <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24"
                                            style="font-size: 10px; color: gray;">
                                            <span nz-icon nzType="mobile" nzTheme="outline" style="color:#FF7A7A;">
                                            </span>

                                            <span *ngFor="let mobNo of data.MOBILE_NUMBER.split(',');">
                                                <a [href]="goToMobileNumber(mobNo)" style="color: gray;">
                                                    {{mobNo}}
                                                </a>&nbsp;
                                            </span>

                                            <span
                                                *ngIf="(data.COMMUNICATION_MOBILE_NUMBER != null) && (data.COMMUNICATION_MOBILE_NUMBER != '')">
                                                <span
                                                    *ngFor="let mobNo of data.COMMUNICATION_MOBILE_NUMBER.split(',');">
                                                    <a [href]="goToMobileNumber(mobNo)" style="color: gray;">
                                                        {{mobNo}}
                                                    </a>&nbsp;
                                                </span>
                                            </span>
                                        </div>

                                        <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24"
                                            style="font-size: 10px; color: gray;">
                                            <span nz-icon nzType="mail" nzTheme="outline" style="color:#FF7A7A;">
                                            </span>

                                            <span *ngIf="(data.EMAIL_ID != null) && (data.EMAIL_ID != '')">
                                                <span *ngFor="let email of data.EMAIL_ID.split(',');">
                                                    <a [href]="goToEmail(email)" style="color: gray;">
                                                        {{email}}
                                                    </a>&nbsp;
                                                </span>
                                            </span>

                                            <span
                                                *ngIf="(data.BUSSINESS_EMAIL != null) && (data.BUSSINESS_EMAIL != '')">
                                                <span *ngFor="let email of data.BUSSINESS_EMAIL.split(',');">
                                                    <a [href]="goToEmail(email)" style="color: gray;">
                                                        {{email}}
                                                    </a>&nbsp;
                                                </span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24"
                            style="border-radius: 8px; background-color: #f0f2f5; padding: 7px; margin-left: 0px; margin-right: 10px; font-size: 12px; text-align: center; color: #000102;">
                            <div nz-col nzXs="8" nzSm="8" nzMd="3" nzLg="3" nzXl="3" style="margin-bottom: -12px;">
                                <p
                                    style="font-family: 'Courier New', Courier, monospace; font-size: 15px; font-weight: bold;">
                                    {{data.POST_COUNT || 0}}
                                </p>

                                <p style="margin-top: -10px">
                                    <i nz-icon nzType="qrcode" nzTheme="outline"></i>
                                    Posts
                                </p>
                            </div>

                            <div nz-col nzXs="8" nzSm="8" nzMd="4" nzLg="4" nzXl="4" style="margin-bottom: -12px;">
                                <p
                                    style="font-family: 'Courier New', Courier, monospace; font-size: 15px; font-weight: bold;">
                                    {{data.LIKED_COUNT || 0}}
                                </p>

                                <p style="margin-top: -10px">
                                    <i nz-icon nzType="like" nzTheme="outline"></i>
                                    Likes
                                </p>
                            </div>

                            <div nz-col nzXs="8" nzSm="8" nzMd="5" nzLg="5" nzXl="5" style="margin-bottom: -12px;">
                                <p
                                    style="font-family: 'Courier New', Courier, monospace; font-size: 15px; font-weight: bold;">
                                    {{data.COMMENT_COUNT || 0}}
                                </p>

                                <p style="margin-top: -10px">
                                    <i nz-icon nzType="message" nzTheme="outline"></i>
                                    Comments
                                </p>
                            </div>

                            <div nz-col nzXs="8" nzSm="8" nzMd="6" nzLg="6" nzXl="6" style="margin-bottom: -12px;">
                                <p
                                    style="font-family: 'Courier New', Courier, monospace; font-size: 15px; font-weight: bold;">
                                    {{data.MEETING_ATTEMPTED || 0}}
                                </p>

                                <p style="margin-top: -10px">
                                    <i nz-icon nzType="team" nzTheme="outline"></i>
                                    Meetings Attempted
                                </p>
                            </div>

                            <div nz-col nzXs="8" nzSm="8" nzMd="6" nzLg="6" nzXl="6" style="margin-bottom: -12px;">
                                <p
                                    style="font-family: 'Courier New', Courier, monospace; font-size: 15px; font-weight: bold;">
                                    {{data.CIRCULAR_COUNT || 0}}
                                </p>

                                <p style="margin-top: -10px">
                                    <i nz-icon nzType="audit" nzTheme="outline"></i>
                                    Circulars Created
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div *ngIf="dataList.length == 0" style="margin-top: 20px">
            <nz-empty
                [nzNotFoundImage]="'https://gw.alipayobjects.com/mdn/miniapp_social/afts/img/A*pevERLJC9v0AAAAAAAAAAABjAQAAAQ/original'"
                [nzNotFoundContent]="contentTpl">
            </nz-empty>

            <ng-template #contentTpl>
                <span>No data available.</span>
            </ng-template>
        </div>
    </div>
</nz-spin>

<nz-drawer [nzBodyStyle]="{ height: 'calc(100% - 55px)', overflow: 'auto', 'padding-bottom': '53px' }"
    [nzClosable]="false" [nzMask]="true" [nzMaskClosable]="false" [nzWidth]="getWidth()" [nzVisible]="drawerVisible"
    [nzTitle]="drawerTitle" (nzOnClose)="drawerClose()" (nzKeyboard)="true">

    <app-member-drawer [drawerClose]="closeCallback" [drawerVisible]="drawerVisible" [data]="drawerData">
    </app-member-drawer>
</nz-drawer>

<nz-drawer [nzBodyStyle]="{ height: 'calc(100% - 55px)', overflow: 'auto', 'padding-bottom': '53px' }"
    [nzClosable]="false" [nzMask]="true" [nzMaskClosable]="false" [nzWidth]="800"
    [nzVisible]="memberPaymentDrawerVisible" [nzTitle]="memberPaymentDrawerTitle"
    (nzOnClose)="memberPaymentDrawerClose()" (nzKeyboard)="true">

    <app-member-payment-drawer [drawerClose]="memberPaymentCloseCallback" [drawerVisible]="memberPaymentDrawerVisible"
        [data]="memberPaymentDrawerData">
    </app-member-payment-drawer>
</nz-drawer>

<nz-modal [(nzVisible)]="isVisible" [nzTitle]="modalTitle" [nzContent]="modalContent" [nzFooter]="modalFooter"
    (nzOnCancel)="handleCancel()">
    <ng-template #modalTitle>Membership Details</ng-template>

    <ng-template #modalContent>
        <form nz-form #myForm="ngForm">
            <nz-spin [nzSpinning]="isConfirmLoading">
                <div nz-row>
                    <div nz-col nzSpan="12">
                        <nz-form-item>
                            <nz-form-label nzRequired nzNoColon>Membership From</nz-form-label>

                            <nz-form-control>
                                <nz-date-picker name="membershipDate" [nzDisabledDate]="disabledDate"
                                    nzFormat="dd/MM/yyyy" [(ngModel)]="MEMBERSHIP_DATE">
                                </nz-date-picker>
                            </nz-form-control>
                        </nz-form-item>
                    </div>

                    <div nz-col nzSpan="12">
                        <nz-form-item>
                            <nz-form-label nzRequired nzNoColon>Membership Upto</nz-form-label>

                            <nz-form-control>
                                <nz-date-picker name="expiryDate" [nzDisabledDate]="disabledExpiryDate"
                                    nzFormat="dd/MM/yyyy" [(ngModel)]="EXPIRY_DATE">
                                </nz-date-picker>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>
            </nz-spin>
        </form>
    </ng-template>

    <ng-template #modalFooter>
        <button nz-button nzType="default" (click)="handleCancel()">
            Cancel
        </button>

        <button nz-button nzType="primary" (click)="handleOk()" [nzLoading]="isConfirmLoading">
            Submit
        </button>
    </ng-template>
</nz-modal>

<nz-drawer [nzBodyStyle]="{ height: 'calc(100% - 60px)', overflow: 'auto', 'padding-bottom': '53px' }"
    [nzClosable]="true" [nzMask]="true" [nzMaskClosable]="false" [nzWidth]="1400" [nzVisible]="importDrawerVisible"
    [nzTitle]="importDrawerTitle" (nzOnClose)="importDrawerClose()" (nzKeyboard)="true">

    <app-member-upload [drawerClose]="importCloseCallback" [drawerVisible]="importDrawerVisible">
    </app-member-upload>
</nz-drawer>

<!-- View payment drawer -->
<nz-drawer [nzBodyStyle]="{ height: 'calc(100% - 55px)', overflow: 'auto', 'padding-bottom': '53px' }"
    [nzClosable]="false" [nzMask]="true" [nzMaskClosable]="false" [nzWidth]="800"
    [nzVisible]="viewPaymentDetailsDrawerVisible" [nzTitle]="viewPaymentDetailsDrawerTitle"
    (nzOnClose)="viewPaymentDetailsDrawerClose()" (nzKeyboard)="true">

    <app-view-member-payment-details [drawerClose]="viewPaymentDetailsCloseCallback"
        [drawerVisible]="viewPaymentDetailsDrawerVisible">
    </app-view-member-payment-details>
</nz-drawer>